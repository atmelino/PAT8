<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="content-type">
<title>Insert title here</title>
<link rel="stylesheet" type="text/css" href="applications/app.css">
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript" src="lib/mathjax/MathJax.js?config=TeX-AMS_CHTML">
	
</script>
<!-- 
<script type="text/javascript" async src="lib/mathjax/MathJax.js?config=TeX-AMS_CHTML">
	
</script>
 -->

<script type="text/javascript">
	function refresh_func() {
		//UpdateMath(this.value);
		MathJax.Hub.Queue([ "Typeset", MathJax.Hub ]);
	}

	$(document).ready(function() {
		//console.log("ready!");
		MathJax.Hub.Queue([ "Typeset", MathJax.Hub ]);
		window.scrollTo(0, document.body.scrollHeight + 100);
	});
	$(function() {

		$("#earthMoon01").click(function() {
			$("#pageContent").load("applications/earthMoon01.html");
			setCookie('currentPage', 'applications/earthMoon01.html', 100);
		});
		MathJax.Hub.Register.StartupHook("End", function() {
			window.scrollTo(0, document.body.scrollHeight + 100);
		});
	});
</script>



</head>
<body>
	<h2>Earth-Moon Simulation</h2>
	This simulation is based on these simplifications:

	<ul>
		<li>The moon orbits the earth on a circle of 300,000 km radius</li>
		<li>The center of the reference frame is always at the center of the earth</li>
		<li></li>
	</ul>

	<h3>Derivation of the equations of motion</h3>

	<img src="applications/images/earthMoon01.jpeg" alt="m" width="360">
	<br>The position of the spacecraft is $\mathbf{r}$. Furthermore, $$\mathbf{r_E}=\mathbf{r}$$
	$$\mathbf{r_L}=\mathbf{r_M}-\mathbf{r_E}$$
	<br>In components:
	<br>$$ \mathbf{r_E}=\begin{bmatrix} x \\ y \\ z\end{bmatrix}$$
	<br>$$ \mathbf{r_L}=\begin{bmatrix} x_M-x \\ y_M-y \\ z_M-z\end{bmatrix}$$
	<br> The length of the vectors is
	<br>$$ r_E=\sqrt{ x^2 + y^2 + z^2}$$
	<br>$$ r_L=\sqrt{ (x_M-x)^2 + (y_M-y)^2 + (z_M-z)^2}$$
	<!--  -->
	<br>The total force on the spacecraft is the sum of the forces by earth and by the moon
	<br> $$\mathbf{F}=\mathbf{F_E}+\mathbf{F_L}$$ where
	<br>$$\mathbf{F_E}=-m\frac{GM_E}{{r_E}^2}\hat{\mathbf{r_E}}$$
	<br>$$\mathbf{F_L}=-m\frac{GM_L}{{r_L}^2}\hat{\mathbf{r_L}}$$
	<br>The acceleration is
	$$\mathbf{a}=\frac{\mathbf{F}}{m}=\ddot{\mathbf{r}}=-\frac{GM_E}{{r_E}^2}\hat{\mathbf{r_E}}-\frac{GM_L}{{r_L}^2}\hat{\mathbf{r_L}}$$
	Another way of writing this is
	$$\mathbf{a}=\frac{\mathbf{F}}{m}=\ddot{\mathbf{r}}=-\frac{GM_E}{{r_E}^3}\mathbf{r_E}-\frac{GM_L}{{r_L}^3}\mathbf{r_L}$$


	In components:
	<br>$$\ddot{x}=-\frac{GM_E}{{r_E}^3}x-\frac{GM_L}{{r_L}^3}(x_M-x)$$
	<br>$$\ddot{y}=-\frac{GM_E}{{r_E}^3}y-\frac{GM_L}{{r_L}^3}(y_M-x)$$
	<br>$$\ddot{z}=-\frac{GM_E}{{r_E}^3}z-\frac{GM_L}{{r_L}^3}(z_M-x)$$

	<button id="refresh" onclick="refresh_func()">refresh</button>
	<br>
	<label id="earthMoon01">application</label>


</body>
</html>
